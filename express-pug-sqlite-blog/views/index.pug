extends layout

block content
  h1 Blog Posts

  form(method="GET")
    input(type="text", name="search", placeholder="Search posts")
    select(name="sortBy")
      option(value="", selected=(sortBy === '')) Newest
      option(value="oldest", selected=(sortBy === 'oldest')) Oldest
      option(value="alphabetical", selected=(sortBy === 'alphabetical')) Alphabetical
    button(type="submit") Search
  ul
    if posts.length
      each post in posts
        li
          a(href=`/post/${post.id}`) #{post.title} by #{post.author} (#{post.createdAt ? post.createdAt.toLocaleDateString() : 'No Date'})
    else
      li No posts available.
